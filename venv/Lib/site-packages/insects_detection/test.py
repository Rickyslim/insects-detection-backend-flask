from pic_utils import pic_tools
from insects_utils import insects_tools
import sys
import time
import numpy as np
import cv2 as cv
import os
import math
import time
from project_utils import project_tools
import matplotlib.pyplot as plt
#准备工作文件夹
project_root_dir=project_tools.project_root_path()
project_tools.prepare_working_dirs(project_root_dir)
#设定文件读取路径
gallery_path = project_root_dir+'\\'+project_tools.insects_img_dirname
processed_gallery_path=project_root_dir+'\\'+project_tools.processed_img_dirname
chas_data_path=project_root_dir+'\\'+project_tools.characteristic_dirname
#测试代码
#获取所有图片上昆虫的特征矩阵
# pic_tools.extract_all_imgs_characteristcs(processed_gallery_path,chas_data_path)
#获取温室大棚病虫害综合数据
start=time.perf_counter()
if pic_tools.read_imgs_from_dir(processed_gallery_path)==[]:
    pic_tools.write_all_processed_imgs(gallery_path,processed_gallery_path)
    print(insects_tools.green_house_insects_info(processed_gallery_path))
else:
    print(insects_tools.green_house_insects_info(processed_gallery_path))
end=time.perf_counter()
print('Running time: %s Seconds'%(float(end-start)))






